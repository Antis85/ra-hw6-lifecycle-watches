(this["webpackJsonpra-hw6-lifecycle-watches"]=this["webpackJsonpra-hw6-lifecycle-watches"]||[]).push([[0],{17:function(e,t,n){},18:function(e,t,n){},20:function(e,t,n){"use strict";n.r(t);var c=n(1),i=n.n(c),r=n(8),o=n.n(r),a=(n(17),n(2)),s=(n(18),n(6)),l=n(7),u=n(0);function m(e){var t=e.form,n=e.onChange,c=e.onSubmit;return Object(u.jsx)("form",{className:"AddClockForm",onSubmit:c,children:Object(u.jsxs)("div",{className:"AddClockForm-inputs-wrapper",children:[Object(u.jsxs)("div",{className:"AddClockForm-input-wrapper city-wrapper",children:[Object(u.jsx)("label",{className:"AddClockForm-label label-city",htmlFor:"city",children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"}),Object(u.jsx)("input",{className:"AddClockForm-input input-city",id:"city",name:"city",value:t.id,type:"text",required:!0,placeholder:"\u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u041c\u043e\u0441\u043a\u0432\u0430...",onChange:n})]}),Object(u.jsxs)("div",{className:"AddClockForm-input-wrapper timezone-wrapper",children:[Object(u.jsx)("label",{className:"AddClockForm-label label-timezone",htmlFor:"timezone",children:"\u0412\u0440\u0435\u043c\u0435\u043d\u043d\u0430\u044f \u0437\u043e\u043d\u0430"}),Object(u.jsx)("input",{className:"AddClockForm-input input-timezone",id:"timezone",name:"timezone",value:t.timezone,type:"number",min:"-12",max:"12",required:!0,placeholder:"\u041e\u0442 -12 \u0434\u043e 12...",onChange:n})]}),Object(u.jsx)("button",{className:"AddClockForm-submit",type:"submit",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"})]})})}var d=n(9),j=n(10),b=n(12),h=n(11),p=function(e){Object(b.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(d.a)(this,n);for(var c=arguments.length,i=new Array(c),r=0;r<c;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).initDate=new Date,e.getTimezoneHours=function(e,t){return t&&(e.getUTCHours()+Number(t))%24||e.getHours()},e.state={sec:e.initDate.getSeconds(),min:e.initDate.getMinutes(),hour:e.getTimezoneHours(e.initDate,e.props.clock.timezone)},e.changeState=function(){e.setState((function(t){var n=new Date,c=t.sec,i=t.min,r=t.hour;if(c!==n.getSeconds())return{sec:n.getSeconds()};if(i!==n.getMinutes())return{min:n.getMinutes()};var o=e.getTimezoneHours(n,e.props.clock.timezone);return r!==o?{hour:o}:void 0}))},e}return Object(j.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.timeout=setTimeout((function(){e.interval=setInterval((function(){e.changeState()}),1e3),e.changeState()}),1e3-(new Date).getMilliseconds())}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval),clearTimeout(this.timeout)}},{key:"render",value:function(){var e=this.props,t=e.clock,n=t.id,c=t.city,i=e.onRemove,r=this.state,o=r.sec,a=r.min,s=r.hour;return Object(u.jsxs)("article",{className:"Clock-widget",children:[Object(u.jsx)("h1",{children:c||"\u041c\u0435\u0441\u0442\u043d\u043e\u0435 \u0432\u0440\u0435\u043c\u044f"}),Object(u.jsxs)("div",{className:"Clock-digital",children:[s<10?"0":null,s,":",a<10?"0":null,a,":",o<10?"0":null,o]}),Object(u.jsx)("button",{onClick:function(){return i(n)},className:"Clock-button button-remove",children:"\u2718"})]})}}]),n}(c.Component);function f(e){var t=e.initArray,n=e.initForm,i=Object(c.useState)(t),r=Object(l.a)(i,2),o=r[0],d=r[1],j=Object(c.useState)(n),b=Object(l.a)(j,2),h=b[0],f=b[1],O=function(e){d((function(t){return t.filter((function(t){return t.id!==e}))}))},v=o.map((function(e){return Object(u.jsx)(p,{clock:e,onRemove:O},e.id)}));return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(m,{form:h,onChange:function(e){var t=e.target;f((function(e){return"city"===t.name?Object(a.a)(Object(a.a)({},e),{},{id:t.value,city:t.value}):Object(a.a)(Object(a.a)({},e),{},{timezone:t.value})}))},onSubmit:function(e){e.preventDefault(),d((function(e){return e.find((function(e){return e.id===h.id}))?Object(s.a)(e):[].concat(Object(s.a)(e),[h])})),f({id:"",city:"",timezone:""})}}),Object(u.jsx)("section",{className:"Clockes-body",children:v})]})}function O(){var e={id:"",city:"",timezone:""},t=[Object(a.a)({},e)];return Object(u.jsx)("div",{className:"App",children:Object(u.jsx)(f,{className:"ClockPanel",initArray:t,initForm:e})})}o.a.render(Object(u.jsx)(i.a.StrictMode,{children:Object(u.jsx)(O,{})}),document.getElementById("root"))}},[[20,1,2]]]);
//# sourceMappingURL=main.9dd00502.chunk.js.map